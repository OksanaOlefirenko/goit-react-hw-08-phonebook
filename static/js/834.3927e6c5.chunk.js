"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[834],{2834:function(n,e,r){r.r(e),r.d(e,{default:function(){return gn}});var t,o,i,a,s,c,d,u,l,p,x,b,m,g,h,f,v,Z,j,w=r(1413),k=r(8748),y=r(168),P=r(7691),S=P.ZP.div(t||(t=(0,y.Z)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 99;\n"]))),z=r(184),C=function(){return(0,z.jsx)(S,{children:(0,z.jsx)(k.gy,{ariaLabel:"loading-indicator",height:"80",width:"80",radius:"10",color:"green"})})},L=P.ZP.form(o||(o=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  width: 400px;\n  border-radius: 5px;\n  padding: 10px;\n  background-color: rgba(244, 244, 246, 0.5);\n  box-shadow: 2px 2px 20px 10px rgba(0, 0, 0, 0.4);\n"]))),E=P.ZP.label(i||(i=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  color: #171818;\n  font-weight: 700;\n  font-size: 20px;\n"]))),T=P.ZP.input(a||(a=(0,y.Z)(["\n  width: 220px;\n  height: 25px;\n  margin-top: 10px;\n  border: 1px solid #030e1845;\n  border-radius: 5px;\n  box-shadow: 0 0 2px 1px;\n"]))),A=P.ZP.p(s||(s=(0,y.Z)(["\n  margin: 0;\n  color: red;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 10px;\n"]))),F=P.ZP.button(c||(c=(0,y.Z)(["\n  margin-top: 10px;\n  padding: 5px 10px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  background-color: #919297;\n  transition: color 500ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 500ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    background-color: #212529;\n    color: #fff;\n  }\n"]))),M=function(n){var e,r,t=n.btnText,o=n.onSubmit,i=n.contact,a=n.isLoading,s=n.register,c=n.handleSubmit,d=n.errors;return(0,z.jsxs)(L,{onSubmit:c(o),autoComplete:"off",children:[(0,z.jsxs)(E,{htmlFor:"name",children:["Name:",(0,z.jsx)(T,(0,w.Z)((0,w.Z)({id:"name",type:"text",defaultValue:i?i.name:""},s("name",{required:"This is required field",minLength:{value:3,message:"Min length is 3 symbols"},pattern:{value:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}})),{},{placeholder:"Surname Name"}))]}),(null===d||void 0===d?void 0:d.name)&&(0,z.jsx)(A,{children:(null===d||void 0===d||null===(e=d.name)||void 0===e?void 0:e.message)||"Error!"}),(0,z.jsxs)(E,{htmlFor:"number",children:["Number:",(0,z.jsx)(T,(0,w.Z)((0,w.Z)({id:"number",type:"tel",defaultValue:i?i.number:""},s("number",{required:"This is required field",minLength:{value:5,message:"Min length is 5 symbols"},maxLength:{value:20,message:"Max length is 20 symbols"},pattern:{value:"+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}",message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}})),{},{placeholder:"+38(000)000-00-00"}))]}),(null===d||void 0===d?void 0:d.number)&&(0,z.jsx)(A,{children:(null===d||void 0===d||null===(r=d.number)||void 0===r?void 0:r.message)||"Error!"}),(0,z.jsxs)(F,{disabled:a,variant:"contained",type:"submit",children:[a&&(0,z.jsx)(C,{size:20}),t]})]})},q=P.ZP.ul(d||(d=(0,y.Z)(["\n  width: 600px;\n  background-color: rgba(244, 244, 246, 0.5);\n  box-shadow: 2px 2px 20px 10px rgba(0, 0, 0, 0.4);\n  border-radius: 5px;\n  padding: 10px;\n  margin: 0;\n"]))),N=r(885),Y=r(3978),_=P.ZP.li(u||(u=(0,y.Z)(["\n  list-style: none;\n  background-color: rgba(0, 21, 255, 0.05);\n  border-radius: 5px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  justify-content: space-between;\n  border: 1px solid #fff;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    border 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n  &:hover {\n    background-color: #f0efed;\n    border: 2px solid #acfc00;\n  }\n"]))),I=P.ZP.div(l||(l=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n"]))),V=(0,P.ZP)(Y.Z)(p||(p=(0,y.Z)(["\n  margin-right: 10px;\n"]))),B=P.ZP.p(x||(x=(0,y.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n"]))),K=P.ZP.button(b||(b=(0,y.Z)(["\n  padding: 5px 5px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  margin-right: 10px;\n  transition: color 500ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 500ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    background-color: #212529;\n    color: #fff;\n  }\n"]))),H=P.ZP.button(m||(m=(0,y.Z)(["\n  padding: 5px 5px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  transition: color 500ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 500ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    background-color: #212529;\n    color: #fff;\n  }\n"]))),J=r(9782),O=r(2791),Q=r(5218),U=r(4164),X=P.ZP.div(g||(g=(0,y.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1000;\n"]))),$=P.ZP.div(h||(h=(0,y.Z)(["\n  max-width: calc(100vw - 300px);\n  max-height: calc(100vh - 50px);\n  background-color: white;\n  position: relative;\n"]))),D=P.ZP.button(f||(f=(0,y.Z)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  border: none;\n  border-radius: 50%;\n  background-color: #919297;\n  color: black;\n  display: flex;\n  align-items: center;\n  padding: 3px;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n"]))),G=r(9823),R=r(5861),W=r(4687),nn=r.n(W),en=r(3896),rn=document.querySelector("#modal-root"),tn=function(n){var e=n.onClose,r=n.id,t=function(n,e){var r=(0,J.wY)().data.find((function(n){return n.id===e})),t=(0,J.wv)(),o=(0,N.Z)(t,2),i=o[0],a=o[1],s=a.isLoading,c=a.isSuccess,d=a.isError;(0,O.useEffect)((function(){c&&Q.ZP.success("Contact updated"),d&&Q.ZP.error("Sorry, try again")}),[c,d]);var u=function(){var e=(0,R.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i((0,w.Z)({id:r.id},t));case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),l=(0,en.cI)();return{register:l.register,handleSubmit:l.handleSubmit,errors:l.formState.errors,onSubmit:u,contact:r,isLoading:s}}(e,r),o=t.register,i=t.handleSubmit,a=t.errors,s=t.onSubmit,c=t.contact,d=t.isLoading;(0,O.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,U.createPortal)((0,z.jsx)(X,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,z.jsxs)($,{children:[(0,z.jsx)(M,{btnText:"Save changes",onSubmit:s,contact:c,isLoading:d,register:o,handleSubmit:i,errors:a}),(0,z.jsx)(D,{type:"button",onClick:function(){return e()},children:(0,z.jsx)(G.Z,{})})]})}),rn)},on=r(6856),an=r(3853),sn=function(n){var e=n.id,r=n.name,t=n.number,o=(0,J.Nt)(),i=(0,N.Z)(o,2),a=i[0],s=i[1],c=s.isLoading,d=s.isSuccess;(0,O.useEffect)((function(){d&&Q.ZP.success("Contact deleted")}),[d]);var u=(0,O.useState)(!1),l=(0,N.Z)(u,2),p=l[0],x=l[1],b=function(){x((function(n){return!n}))};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(_,{children:[(0,z.jsxs)(I,{children:[(0,z.jsx)(V,{children:r.charAt(0).toUpperCase()}),(0,z.jsxs)(B,{children:[r,": ",t]})]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)(K,{type:"button",onClick:function(){return a(e)},children:[(0,z.jsx)(on.FH3,{size:20}),c&&(0,z.jsx)(C,{})]}),(0,z.jsx)(H,{type:"button",onClick:b,children:(0,z.jsx)(an.vPQ,{size:20})})]})]},e),p&&(0,z.jsx)(tn,{onClose:b,isModalOpen:p,id:e})]})},cn=r(5048),dn=r(1538),un=function(){var n=(0,J.wY)(),e=n.data,r=n.error,t=n.isLoading,o=(0,cn.v9)(dn.zK),i=(0,O.useMemo)((function(){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((function(n){return n.name.toLowerCase().includes(o.toLowerCase())})))&&void 0!==n?n:[]}),[o,e]);return(0,z.jsxs)(z.Fragment,{children:[r&&(0,z.jsx)("p",{children:"Contacts not found"}),t?(0,z.jsx)(C,{}):(0,z.jsx)(q,{children:null===i||void 0===i?void 0:i.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,z.jsx)(sn,{name:r,number:t,id:e},e)}))})]})},ln=P.ZP.label(v||(v=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  margin-top: 20px;\n  font-size: 20px;\n  width: 400px;\n  font-weight: 700;\n"]))),pn=P.ZP.input(Z||(Z=(0,y.Z)(["\n  margin-top: 10px;\n  width: 400px;\n  padding: 5px;\n  margin-bottom: 10px;\n  border: 1px solid #030e1845;\n  border-radius: 5px;\n  box-shadow: 2px 2px 20px 10px rgba(0, 0, 0, 0.4);\n"]))),xn=function(){var n=(0,cn.I0)(),e=(0,cn.v9)(dn.zK);return(0,z.jsxs)(ln,{children:["Find contacts by name:",(0,z.jsx)(pn,{type:"text",name:"filter",value:e,onChange:function(e){n((0,dn.hX)(e.currentTarget.value))}})]})},bn=r(2814),mn=P.ZP.div(j||(j=(0,y.Z)(["\n  background: url(",");\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  height: 100vh;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-top: 50px;\n"])),bn),gn=function(){var n=(0,J.wY)().data,e=function(){var n=(0,en.cI)({defaultValues:{name:"",number:""},mode:"onBlur"}),e=n.register,r=n.reset,t=n.handleSubmit,o=n.formState.errors,i=(0,J.Lr)(),a=(0,N.Z)(i,2),s=a[0],c=a[1],d=c.isLoading,u=c.isSuccess,l=c.isError,p=(0,J.wY)().data;(0,O.useEffect)((function(){u&&Q.ZP.success("Contact added"),l&&Q.ZP.error("Sorry, try again")}),[u,l]);var x=function(){var n=(0,R.Z)(nn().mark((function n(e){var t,o,i;return nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t={name:e.name,number:e.number},o=p.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()})),!o){n.next=5;break}return n.abrupt("return",Q.ZP.error("".concat(e.name," is already in contacts.")));case 5:if(i=p.find((function(n){return n.number===e.number})),!i){n.next=10;break}return n.abrupt("return",Q.ZP.error("This phone number is already in contacts."));case 10:s(t),r();case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}();return{register:e,handleSubmit:t,errors:o,isLoading:d,onSubmit:x}}(),r=e.register,t=e.handleSubmit,o=e.errors,i=e.isLoading,a=e.onSubmit;return(0,z.jsxs)(mn,{children:[(0,z.jsx)("h1",{children:"Phonebook"}),(0,z.jsx)(M,{btnText:"Add contact",onSubmit:a,isLoading:i,register:r,handleSubmit:t,errors:o}),n&&(n.length>1?(0,z.jsx)(xn,{}):""),(0,z.jsx)("h2",{children:"Contacts"}),(0,z.jsx)(un,{})]})}},2814:function(n,e,r){n.exports=r.p+"static/media/cell-phones.c51f0fb4868e6140be5b.jpg"}}]);
//# sourceMappingURL=834.3927e6c5.chunk.js.map